(function(){"use strict";var e={6322:function(e,t,r){var n=r(9242),a=r(3396);const s={class:"app"};function i(e,t){const r=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(r)])}var o=r(89);const u={},c=(0,o.Z)(u,[["render",i]]);var l=c;const d=e=>((0,a.dD)("data-v-8fb0005a"),e=e(),(0,a.Cn)(),e),v={class:"congratulation"},h=d((()=>(0,a._)("h2",{class:"congratulation__title"},"Спасибо за обмен!!!",-1))),m=[h];function p(e,t){return(0,a.wg)(),(0,a.iD)("div",v,m)}const g={},f=(0,o.Z)(g,[["render",p],["__scopeId","data-v-8fb0005a"]]);var _=f;const S=e=>((0,a.dD)("data-v-44c026c4"),e=e(),(0,a.Cn)(),e),A={class:"exchanger"},x={class:"exchanger__content"},w=S((()=>(0,a._)("h1",{class:"exchanger__content-title"},"Обменник",-1)));function b(e,t,r,n,s,i){const o=(0,a.up)("exchanger-header"),u=(0,a.up)("exchanger-form"),c=(0,a.up)("exchanger-footer");return(0,a.wg)(),(0,a.iD)("div",A,[(0,a.Wm)(o,{class:"exchanger__header"}),(0,a._)("div",x,[w,(0,a.Wm)(u,{class:"exchanger__content-form"})]),(0,a.Wm)(c,{class:"exchanger__footer"})])}var V=r(7139),C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAArAAAAKwBhgk01AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE/SURBVDiNldM7L4RBFMbx3/sKClQUEpVCqIhIFBKFiGQ7yvUFJJv4JIsPodLq3QrRShSI6DUqt0QQo5izyVqv2ySTSc45z39mnjMDy7jFETaxiqGUkvaJAj0VcYNo4gAvSNivKNzBNZY+xdsKVvAegMMKwCROI9/4BMAE7rCHR2x0AqKuC9t4Q611hRIXuMJs7FCvAoSgGye4DK2pENUwh1eMfgcIyGJolmE9jjQQyfGfxG2QG2yVmMdZSukBUkpX/jauMV6iL4z77+jHUxnmjf1FURTFSKwDsnfHZCMSFn+58yieZaNroZkit+JSbk33D4B6iGbj1BcoW8ma3IltdH0D2Aiv9uRHN9H5lBuxwykmKwCHkX/Hype/EEVLcnt2KwDnAXiRP14Tg0XrPbc53YvelNJ9R3wYC5iJOY21D0rgVvxVJ9wlAAAAAElFTkSuQmCC";const y=e=>((0,a.dD)("data-v-829b3010"),e=e(),(0,a.Cn)(),e),R={class:"exchanger-form__controls"},D={class:"exchanger-form__control"},I=["selected"],M=y((()=>(0,a._)("img",{src:C,class:"exchanger-form__img"},null,-1))),U={class:"exchanger-form__control"},$=["selected"],k={key:0,class:"exchanger-form__button",disabled:""},N=(0,a.Uk)("ОБМЕНЯТЬ");function B(e,t,r,s,i,o){const u=(0,a.up)("field-select"),c=(0,a.up)("field-input"),l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("form",{class:"exchanger-form",onSubmit:t[4]||(t[4]=(0,n.iM)((()=>{}),["prevent"]))},[(0,a._)("div",R,[(0,a._)("div",D,[(0,a.Wm)(u,{modelValue:s.state.givenSum.select,"onUpdate:modelValue":t[0]||(t[0]=e=>s.state.givenSum.select=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.currencies,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,selected:"USD"===e},(0,V.zw)(e.toUpperCase()),9,I)))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(c,{label:`Сумма в ${s.state.givenSum.select}`,error:o.errorGivenMessage,modelValue:s.state.givenSum.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.state.givenSum.value=e),onInput:o.enterGivenInput},null,8,["label","error","modelValue","onInput"])]),M,(0,a._)("div",U,[(0,a.Wm)(u,{modelValue:s.state.receivedSum.select,"onUpdate:modelValue":t[2]||(t[2]=e=>s.state.receivedSum.select=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.currencies,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,selected:"BTC"===e},(0,V.zw)(e.toUpperCase()),9,$)))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(c,{label:`Сумма в ${s.state.receivedSum.select}`,error:o.errorReceivedMessage||o.errorReceivedMessageLimit,limit:i.reserved[o.curReceived],modelValue:s.state.receivedSum.value,"onUpdate:modelValue":t[3]||(t[3]=e=>s.state.receivedSum.value=e),onInput:o.enterReceivedInput},null,8,["label","error","limit","modelValue","onInput"])])]),s.v$.$invalid?((0,a.wg)(),(0,a.iD)("button",k,"УКАЖИТЕ СУММУ")):((0,a.wg)(),(0,a.j4)(l,{key:1,to:{name:i.routes.congratulation},class:"exchanger-form__button exchanger-form__button-link"},{default:(0,a.w5)((()=>[N])),_:1},8,["to"]))],32)}const E={usd:1e4,btc:4,uah:3e4,eur:9540,gbp:30};var j=r(1373);const F=(0,j.Z)();var G=r(9117),H=r(4870),T=r(3053);const Z=e=>((0,a.dD)("data-v-18eb86dc"),e=e(),(0,a.Cn)(),e),K={class:"field-select"},L=Z((()=>(0,a._)("small",{class:"field-select__title"},"Отдайте",-1)));function O(e,t,r,n,s,i){return(0,a.wg)(),(0,a.iD)("div",K,[L,(0,a._)("select",{class:"field-select__select",onInput:t[0]||(t[0]=(...e)=>i.updateValueModel&&i.updateValueModel(...e))},[(0,a.WI)(e.$slots,"default",{},void 0,!0)],32)])}const q={updateModelValue:"update:modelValue"};var Q={name:"field-select",props:{modelValue:{type:[String,Number],default:""}},methods:{updateValueModel(e){this.$emit(q.updateModelValue,e.target.value)}}};const z=(0,o.Z)(Q,[["render",O],["__scopeId","data-v-18eb86dc"]]);var W=z;const J={exchanger:"exchanger",congratulation:"congratulation",error:"error"},P={class:"field-input__title"},Y=["value"],X={class:"field-input__error-message"};function ee(e,t,r,n,s,i){return(0,a.wg)(),(0,a.iD)("div",{class:(0,V.C_)(["field-input",{"field-input--invalid":i.isError}])},[(0,a._)("small",P,(0,V.zw)(r.label),1),(0,a._)("input",{type:"text",class:"field-input__input",value:r.modelValue,onInput:t[0]||(t[0]=(...e)=>i.updateValueModel&&i.updateValueModel(...e))},null,40,Y),(0,a._)("small",X,(0,V.zw)(r.error),1)],2)}const te={updateModelValue:"update:modelValue"};var re={name:"field-input",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},error:{type:[String,Number],default:""},limit:{type:[String,Number],default:""}},computed:{isError(){return this.limit?!!(this.error||+this.limit<+this.modelValue):!!this.error}},methods:{updateValueModel(e){this.$emit(te.updateModelValue,e.target.value)}}};const ne=(0,o.Z)(re,[["render",ee],["__scopeId","data-v-762abe7d"]]);var ae=ne;const se={limit(e){return`Maximum value ${e}`}};var ie={methods:{isLimitedValue(e,t){return e&&t&&e>t?se.limit(t):""}}};const oe={sendRate:"sendRate",sendReserve:"sendReserve"},ue="https://api.apilayer.com/exchangerates_data/latest?symbols=USD%2C%20EUR%2C%20UAH%2C%20GBP%2C%20BTC%2C%20ETH%2C%20BNB%2C%20XRP&base=UAH";var ce={components:{FieldInput:ae,FieldSelect:W},mixins:[ie],name:"exchanger-form",setup(){const e=(0,H.qj)({givenSum:{value:"",select:"USD"},receivedSum:{value:"",select:"BTC"}}),t={givenSum:{value:{required:G.C1,numeric:G.uR,minValue:(0,G.uv)(0)},select:{required:G.C1}},receivedSum:{value:{required:G.C1,numeric:G.uR,minValue:(0,G.uv)(0)},select:{required:G.C1}}},r=(0,T.ZP)(t,e);return{state:e,v$:r}},data(){return{reserved:E,routes:J,currencies:[],currencyList:{}}},methods:{async getData(){const e=new Headers;e.append("apikey","7HTulfSuhmq8R2YcSrTB0h8V5IXxVK60");const t={method:"GET",redirect:"follow",headers:e};await fetch(ue,t).then((e=>e.json())).then((e=>this.currencyList=e.rates)).catch((e=>alert(e.message))),this.currencies=Reflect.ownKeys(this.currencyList)},enterGivenInput(){isNaN(this.conventTo)?this.state.receivedSum.value="Error":this.state.receivedSum.value=this.conventTo,this.v$.givenSum.value.$touch(),this.v$.receivedSum.value.$touch()},enterReceivedInput(){isNaN(this.conventFrom)?this.state.givenSum.value="Error":this.state.givenSum.value=this.conventFrom,this.v$.givenSum.value.$touch(),this.v$.receivedSum.value.$touch()},findRate(){return this.currencyList[this.curGiven]/this.currencyList[this.curReceived]},findReserve(){const e=this.state.receivedSum.select.toLowerCase();for(let t in this.reserved)if(t===e)return`${this.reserved[t]} ${t.toUpperCase()}`},selectCurrency(){if(this.state.givenSum.select&&this.state.receivedSum.select){const e=`1 ${this.state.givenSum.select} = ${1/this.findRate()} ${this.state.receivedSum.select}`;F.emit(oe.sendRate,e),isNaN(this.state.givenSum.value)&&this.enterReceivedInput(this.state.receivedSum.value),isNaN(this.state.receivedSum.value)&&this.enterGivenInput(this.state.givenSum.value)}if(this.state.receivedSum.select){const e=this.findReserve();F.emit(oe.sendReserve,e)}}},computed:{curGiven(){return this.state.givenSum.select.toUpperCase()},curReceived(){return this.state.receivedSum.select.toUpperCase()},errorReceivedMessage(){return this.v$.receivedSum.value.$errors[0]?.$message},errorGivenMessage(){return this.v$.givenSum.value.$errors[0]?.$message},errorReceivedMessageLimit(){return this.isLimitedValue(this.state.receivedSum.value,this.reserved[this.curReceived])},conventTo(){return this.state.givenSum.value/this.findRate()},conventFrom(){return this.state.receivedSum.value*this.findRate()}},mounted(){this.getData()},updated(){this.selectCurrency(),this.enterGivenInput()}};const le=(0,o.Z)(ce,[["render",B],["__scopeId","data-v-829b3010"]]);var de=le;const ve=e=>((0,a.dD)("data-v-511249e1"),e=e(),(0,a.Cn)(),e),he={class:"exchanger-header"},me=ve((()=>(0,a._)("h1",{class:"exchanger-header__title"},"Exchanger",-1))),pe=[me];function ge(e,t,r,n,s,i){return(0,a.wg)(),(0,a.iD)("header",he,pe)}var fe={name:"exchanger-header"};const _e=(0,o.Z)(fe,[["render",ge],["__scopeId","data-v-511249e1"]]);var Se=_e;const Ae=e=>((0,a.dD)("data-v-2857c6b1"),e=e(),(0,a.Cn)(),e),xe={class:"exchange-footer"},we={class:"exchange-footer__rate"},be=Ae((()=>(0,a._)("div",{class:"exchange-footer__rate-title"},"Курс",-1))),Ve={class:"exchange-footer__rate-content"},Ce={class:"exchange-footer__reserve"},ye=Ae((()=>(0,a._)("div",{class:"exchange-footer__reserve-title"},"Резерв",-1))),Re={class:"exchange-footer__reserve-content"};function De(e,t,r,n,s,i){return(0,a.wg)(),(0,a.iD)("footer",xe,[(0,a._)("div",we,[be,(0,a._)("div",Ve,(0,V.zw)(s.rate),1)]),(0,a._)("div",Ce,[ye,(0,a._)("div",Re,(0,V.zw)(s.reserve),1)])])}var Ie={name:"exchanger-footer",data(){return{rate:"",reserve:""}},mounted(){F.on(oe.sendRate,(e=>this.rate=e)),F.on(oe.sendReserve,(e=>this.reserve=e))}};const Me=(0,o.Z)(Ie,[["render",De],["__scopeId","data-v-2857c6b1"]]);var Ue=Me,$e={components:{ExchangerFooter:Ue,ExchangerHeader:Se,ExchangerForm:de}};const ke=(0,o.Z)($e,[["render",b],["__scopeId","data-v-44c026c4"]]);var Ne=ke;const Be=e=>((0,a.dD)("data-v-943c6696"),e=e(),(0,a.Cn)(),e),Ee={class:"error-path"},je=Be((()=>(0,a._)("h2",{class:"error-path__title"},"Error 404",-1))),Fe=(0,a.Uk)("To exchanger");function Ge(e,t,r,n,s,i){const o=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Ee,[je,(0,a.Wm)(o,{to:{name:s.routes.exchanger},class:"error-path__link"},{default:(0,a.w5)((()=>[Fe])),_:1},8,["to"])])}var He={data(){return{routes:J}}};const Te=(0,o.Z)(He,[["render",Ge],["__scopeId","data-v-943c6696"]]);var Ze=Te,Ke=r(678);const Le=[{path:"/congratulation",name:J.congratulation,component:_},{path:"/",name:J.exchanger,component:Ne},{path:"/:pathMatch(.*)*",name:J.error,component:Ze}],Oe=(0,Ke.p7)({routes:Le,history:(0,Ke.PO)("/exchanger/")});var qe=Oe;const Qe=(0,n.ri)(l);Qe.use(qe).mount("#app")}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,n,a,s){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],a=e[l][1],s=e[l][2];for(var o=!0,u=0;u<n.length;u++)(!1&s||i>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(o=!1,s<i&&(i=s));if(o){e.splice(l--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[n,a,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,s,i=n[0],o=n[1],u=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(u)var l=u(r)}for(t&&t(n);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(l)},n=self["webpackChunkvue_exchanger"]=self["webpackChunkvue_exchanger"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(6322)}));n=r.O(n)})();
//# sourceMappingURL=app.85d5b59c.js.map